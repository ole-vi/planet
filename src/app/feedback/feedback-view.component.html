<!-- Feedback Template -->
<mat-toolbar>
  <button class="btnBack" mat-icon-button routerLink="/feedback"><mat-icon>arrow_back</mat-icon></button>
  <span i18n>Feedback</span>
</mat-toolbar>
<div class="space-container">
  <mat-toolbar>
    <mat-toolbar-row class="primary-color font-size-1">
      <ng-container [ngSwitch]="feedback.type">
        <mat-icon *ngSwitchCase="'Bug'">bug_report</mat-icon>
        <mat-icon *ngSwitchCase="'Question'">help_outline</mat-icon>
        <mat-icon *ngSwitchCase="'Suggestion'">lighbulb_outline</mat-icon>
      </ng-container>
      <span>{{feedback.title || feedback.type + ' regarding ' + feedback.url}}</span>
      <span class="toolbar-fill"></span>
      <a (click)="setTitle()" mat-icon-button>
        <mat-icon>edit</mat-icon>
      </a>
    </mat-toolbar-row>
  </mat-toolbar>
  <div class="view-container">
    <div class="chat-list" #chatList>
      <div class="chat-list-item" *ngFor="let message of feedback.messages">
        <div class="chat-list-user">
          <p>{{message.user}}</p>
          <p class="mat-caption">{{message.time | date:'MMM d, y h:mm a'}}</p>
        </div>
        <div class="chat-list-message"><mat-card [ngClass]="{'primary-color':message.user!==user.name}">{{message.message}}</mat-card></div>
      </div>
    </div>
    <div class="chat-reply">
      <mat-form-field>
        <textarea matInput [(ngModel)]="newMessage" matTextareaAutosize matAutosizeMinRows="5" placeholder="Type your reply here" i18n-placeholder></textarea>
      </mat-form-field>
      <button mat-raised-button color="accent" (click)="postMessage()"><mat-icon>reply</mat-icon>Reply</button>
    </div>
  </div>
</div>
