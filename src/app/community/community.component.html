<h2 i18n>Communities List</h2>
<br/>
<div class="row">
  <div class="col-md-3">
    <select [(ngModel)]="selectedNation" class="form-control">
      <option i18n value="">All</option>
      <option *ngFor="let nationName of nations; let i = index" value= {{nationName.doc.admin_name}}> {{nationName.doc.name}} </option>
    </select>
  </div>
  <div class="col-md-3">
    <select  [(ngModel)]="selectedValue" class="form-control">
      <option i18n value="">All</option>
      <option i18n value="pending">pending</option>
      <option i18n value="accepted">accepted</option>
      <option i18n value="rejected">rejected</option>
    </select>
  </div>
</div>
<br/>
<table class="table">
  <thead>
    <tr>
      <th i18n>Community</th>
      <th i18n>Last App Update</th>
      <th i18n>Version No.</th>
      <th i18n>Nation Name</th>
      <th i18n>Last Publications Sync</th>
      <th i18n>Last Activities Sync</th>
      <th i18n>Status</th>
      <th i18n>Actions</th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngFor="let community of communities; let i = index">
      <tr *ngIf="(selectedValue == '' || community.doc.registrationRequest == selectedValue) && (selectedNation == '' || community.doc.nationName == selectedNation)"  >
        <td>
          {{community.doc.name}}
        </td>
        <td>
          {{community.doc.lastAppUpdateDat}}
        </td>
        <td>
          {{community.doc.version}}
        </td>
        <td>
          {{community.doc.nationName}}
        </td>
        <td>
          {{community.doc.lastPublicationsSyncDate}}
        </td>
        <td>
          {{community.doc.lastActivitiesSyncDate}}
        </td>
        <td i18n>
          {{community.doc.registrationRequest}}
        </td>
        <td>
          <button i18n class="btn btn-danger"  (click)="deleteCommunity(community.doc._id,community.doc._rev,i)">Delete</button>
        </td>
      </tr>
    </ng-container>
  </tbody>
</table>
