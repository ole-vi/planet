<form novalidate (ngSubmit)="onSubmit(modalForm.value, dialogRef)" [formGroup]="modalForm">
  <div>
    <h1 mat-dialog-title><span><mat-icon>create</mat-icon>{{title}}</span></h1>
  </div>
  <div mat-dialog-content>
    <div *ngFor="let field of fields">
      <!-- textbox -->
      <mat-input-container *ngIf="field.type == 'textbox'" class="modalForm-full-width">
          <input matInput (keypress)="valueChange($event)" placeholder="{{field.placeholder}}" formControlName="{{field.name}}" required="{{field.required}}">
      </mat-input-container>
      <!-- selectbox -->
      <mat-input-container *ngIf="field.type == 'selectbox'" class="modalForm-full-width">
        <select mat-select *ngFor="let options of field.options">
          <option value="{{option.value}}">{{option.text}}</option>
        </select>
      </mat-input-container>
      <planet-form-error-messages [control]="modalForm.controls[field.name]"></planet-form-error-messages>
    </div>
  </div>
  <mat-dialog-actions>
    <button color="warn" type="button" mat-raised-button (click)="dialogRef.close()" i18n>Cancel</button>&nbsp;
    <button type="submit" color="primary" mat-raised-button i18n>Submit</button>
  </mat-dialog-actions>
</form>
